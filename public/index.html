<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume-Job Fit Analyzer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Candidate Screening Intelligence</h1>
            <p>Intelligent Resume-Job Fit Analysis for Hiring Teams</p>
        </header>

        <main>
            <!-- Input Section -->
            <section class="input-section">
                <div class="form-group">
                    <h2>Step 1: Add Candidate Resume</h2>
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="resumeFile" accept=".pdf,.txt,.doc,.docx" hidden>
                        <div class="upload-placeholder">
                            <p>Click or drag candidate resume file here</p>
                            <small>PDF, TXT, or DOC files (max 10MB)</small>
                        </div>
                    </div>
                    <div id="resumeStatus" class="status-message"></div>
                </div>

                <div class="form-group">
                    <h2>Step 2: Define Position Requirements</h2>
                    <input type="text" id="jobTitle" placeholder="Position Title (e.g., Senior Python Developer)" class="input-field">
                    <textarea id="jobDescription" placeholder="Paste the job description and requirements here..." class="input-field" rows="8"></textarea>
                    <input type="number" id="jobYears" placeholder="Required Years of Experience (optional)" class="input-field" min="0">
                    <div id="jobStatus" class="status-message"></div>
                </div>

                <button id="analyzeBtn" class="button button-primary" disabled>
                    Analyze Candidate Fit
                </button>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <h2>Candidate Fit Analysis</h2>

                <!-- NEW: Learning Widget -->
                <div id="learning-widget" class="learning-indicator" style="display: none;">
                    <div class="spinner"></div>
                    <p>Learning from candidate profile... <span id="discovery-count">0</span> new items found</p>
                </div>

                <!-- Composite Score Card -->
                <div class="score-card composite-score">
                    <div class="score-value" id="compositeScore">-</div>
                    <div class="score-label">Overall Fit Score</div>
                </div>

                <!-- Hiring Recommendation -->
                <div class="recommendation-card" id="recommendationCard" style="display: none;">
                    <div class="recommendation-header">
                        <h3 id="fitRating">-</h3>
                        <p id="skillGateCheck" class="gate-status"></p>
                    </div>
                    <div class="recommendation-body">
                        <p id="recommendation" class="recommendation-text"></p>
                    </div>
                </div>

                <!-- Score Breakdown -->
                <div class="breakdown-section">
                    <h3>Score Breakdown</h3>
                    <p class="breakdown-intro">The candidate's fit score is calculated across five key dimensions:</p>

                    <div class="score-item">
                        <div class="score-label">
                            <span class="label-main">Technical Skills Match</span>
                            <span class="label-weight">25%</span>
                        </div>
                        <div class="score-tooltip">How well the candidate's skills align with the position requirements</div>
                        <div class="score-bar">
                            <div class="score-fill" id="keywordFill" style="width: 0%"></div>
                        </div>
                        <div class="score-details">
                            <span id="keywordScore">-</span>
                            <span class="score-percent">/ 100</span>
                        </div>
                    </div>

                    <div class="score-item">
                        <div class="score-label">
                            <span class="label-main">Job Description Relevance</span>
                            <span class="label-weight">15%</span>
                        </div>
                        <div class="score-tooltip">Semantic match between candidate background and position requirements</div>
                        <div class="score-bar">
                            <div class="score-fill semantic" id="semanticFill" style="width: 0%"></div>
                        </div>
                        <div class="score-details">
                            <span id="semanticScore">-</span>
                            <span class="score-percent">/ 100</span>
                        </div>
                    </div>

                    <div class="score-item">
                        <div class="score-label">
                            <span class="label-main">Years of Experience</span>
                            <span class="label-weight">10%</span>
                        </div>
                        <div class="score-tooltip">Whether the candidate's experience meets or exceeds the requirement</div>
                        <div class="score-bar">
                            <div class="score-fill structured" id="structuredFill" style="width: 0%"></div>
                        </div>
                        <div class="score-details">
                            <span id="structuredScore">-</span>
                            <span class="score-percent">/ 100</span>
                        </div>
                    </div>

                    <div class="score-item">
                        <div class="score-label">
                            <span class="label-main">Education Level Match</span>
                            <span class="label-weight">30%</span>
                        </div>
                        <div class="score-tooltip">How the candidate's degree level aligns with position requirements</div>
                        <div class="score-bar">
                            <div class="score-fill education" id="educationFill" style="width: 0%"></div>
                        </div>
                        <div class="score-details">
                            <span id="educationScore">-</span>
                            <span class="score-percent">/ 100</span>
                        </div>
                    </div>

                    <div class="score-item">
                        <div class="score-label">
                            <span class="label-main">Relevant Certifications</span>
                            <span class="label-weight">20%</span>
                        </div>
                        <div class="score-tooltip">Professional certifications that match position requirements</div>
                        <div class="score-bar">
                            <div class="score-fill certification" id="certificationFill" style="width: 0%"></div>
                        </div>
                        <div class="score-details">
                            <span id="certificationScore">-</span>
                            <span class="score-percent">/ 100</span>
                        </div>
                    </div>
                </div>

                <!-- Resume & Job Info -->
                <div class="info-section">
                    <div class="info-card">
                        <h4>Candidate Profile</h4>
                        <div id="resumeInfo"></div>
                    </div>
                    <div class="info-card">
                        <h4>Position Requirements</h4>
                        <div id="jobInfo"></div>
                    </div>
                </div>

                <!-- Delete Actions -->
                <div class="delete-actions-section" id="deleteActionsSection">
                    <h3>Data Management</h3>
                    <p class="delete-info">Delete candidate resume and position requirements after analysis. This cannot be undone.</p>
                    <div class="delete-buttons">
                        <button id="deleteResumeBtn" class="button button-danger">
                            Delete Resume
                        </button>
                        <button id="deleteJobBtn" class="button button-danger">
                            Delete Position
                        </button>
                        <button id="resetBtn" class="button button-secondary">
                            Analyze Another Candidate
                        </button>
                    </div>
                </div>

            </section>

            <!-- Error Message -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>
        </main>

        <footer>
            <p>Candidate Screening Intelligence Platform</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
